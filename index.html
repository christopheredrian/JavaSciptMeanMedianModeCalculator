<html>

<head>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">

</head>

<body>
    <div class="container">
        <div>
            <h1>Tally</h1>
            <p><em>Insert numbers below using comma as a separator eg.  3, 23, 5,6 </em></p>
            <div class="row">
                <textarea class="col-xs-12" name="numberArea" id="numberArea" cols="30" rows="5"></textarea>
            </div>
            <div class="row">
                <button id="tallyBtn" class="col-xs-12 primary-button">Tally</button>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <table class="table">
                        <tbody>
                            <tr id="first-tr">
                                <th>Value</th>
                                <th>Frequency</th>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>5</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>



    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function(){

            /** First section is for the  Tallying */

            /**
             * A function for that inputs an array and outputs a Map of the tally of each number
             * @param array - array of numbers to be tallied
             * @return object(map) - Map of number and tally
             */
            var tallyArray = function(arr){
                var tallied = {};
                arr.forEach(function(valueStr){
                    var number = Number.parseInt(valueStr.trim());
                    // Can be reduced to --> 
                     // tallied[number] = (tallied[number] == undefined ? tallied[number] = 1 : (tallied[number]++));
                    if(tallied[number] == undefined){
                        tallied[number] = 1;
                    } else{
                        tallied[number]++; 
                    }
                });
                console.log(tallied);
                return tallied;
            };
            
            /**
             * Converts a specified string to an array with a comma "," as a separator
             * @param string
             * @return array - array of strings
             */
            var stringToArray = function(str){
                return str.trim().split(',');
            }

            $('#tallyBtn').click(function(){
                var numbers = stringToArray($('#numberArea').val()); // array
                tallyArray(numbers);
                var tr = $('<tr>');
                var td = $('<td>').text('hello');
                var td2 = $('<td>').text('helloAgain');
                tr.append(td);
                tr.append(td2);
                
                $("tbody").append(tr);
            });

        });
    </script>
</body>

</html>